<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!--Google fonts-->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
        <link rel="stylesheet" type="text/css" href="./styles.css"/>
    </head>
    <body>
        <div class="hero is-primary">
            <div class="hero-body">
                <div class="container has-text-centered">
                    <h1 class="title is-1 is-spaced">Here are your upcoming vaccinations</h1>
                </div>
            </div>
        </div>

        <section class="section">

          <div class="columns is-multiline">
              <div class="column is-3">

              </div>
              <div class="column is-6">
              <table class="table">
                  <thead>
                    <tr>
                      <th>Vaccination</th>
                      <th class="has-text-centered">Dose 1</th>
                      <th class="has-text-centered">Dose 2</th>
                      <th class="has-text-centered">Dose 3</th>
                      <th class="has-text-centered">Dose 4</th>
                      <th class="has-text-centered">Dose 5</th>
                      <th class="has-text-centered">Dose 6</th>
                      <th class="has-text-centered">Dose 7</th>
                    </tr>
                  </thead>
                  <tbody id="vaccination-rows">
                  </tbody>
              </table>
              <br>
              <a class="button is-fullwidth is-danger" href="#mapster" onclick="document.getElementById('mapster').className += ' is-active';">Find your local vaccination clinic today!</a>
              <br>
              <a class="button is-fullwidth is-primary" href="index.html">Home</a>
              </div>
              <div class="column is-3">

              </div>
          </div>

        </section>

        <div id="mapster" class="modal">
            <div class="modal-background" onclick="document.getElementById('mapster').className = 'modal';"></div>
            <div class="modal-content">
                <div class="box">
                    <iframe src="map.html" style="width: 600px; height: 418px;">

                    </iframe>
                </div>
            </div>
        </div>

        <!--Handlebars-->
        <script id="template-row" type="text/x-handlebars-template">
          {{#vaccinations}}
          <div id="{{modalId}}" class="modal">
                <div class="modal-background" onclick="document.getElementById('one').className = 'modal'"></div>
                <div class="modal-content">
                    <div class="box">
                        {{modalContent}}
                    </div>
                </div>
            </div>
          <tr>
            <td><a href="#" onclick="inflate({{viewId}});">{{name}}</a></td>
            {{#each occurrence}}
            <td class="has-text-centered">{{this}}</td>
            {{/each}}
          </tr>
          {{/vaccinations}}

        </script>
        <script>
            var coin = 0;
            function inflate(modalId){
                coin++;
                if(coin > 1){
                    document.getElementById("one").getElementsByClassName("modal-content")[0].getElementsByClassName("box")[0].innerHTML = "Polio (or poliomyelitis) is a disease caused by poliovirus. It can cause lifelong paralysis (can’t move parts of the body), and it can be deadly.";
                }

                console.log("modal was toggled");
                var x = document.getElementById("one");
                document.getElementById("one").classList += " is-active";
            };
        </script>

        <!--jQuery-->
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <!--Handlebars-->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0/handlebars.js"></script>

        <script>
          var source = $("#template-row").html();
          var template = Handlebars.compile(source);
          var data = {
            vaccinations: [
            {
            name: "Chicken Pox",
            occurrence:["9/1", "-", "-", "-", "-", "-", "-"],
            viewId: 'one',
            modalId: 'one',
            modalContent: "Protects your child from hepatitis B, a potentially serious disease, protects other people from the disease because children under 6 years old with hepatitis B usually don’t have symptoms, but they often pass the disease to others without anyone knowing they were infected and Keeps your child from missing school or child care (and keeps you from missing work to care for your sick child)."
            },
            {
            name: "Influenza",
            occurrence:["1/3", "6/21", "-", "-", "-", "-", "-"],
            viewId: 'two',
            modalId: 'two',
            modalContent: "paste content here por favor"
            },
            {
            name: "Diptheria, Tetanus, Pertussis",
            occurrence:["11/2", "9/3", "-", "-", "-", "-", "-"],
            viewId: 'three',
            modalId: 'three',
            modalContent: "paste content here por favor"
            },
            {
            name: "Hib",
            occurrence:["2/3", "4/8", "-", "-", "-", "-", "-"],
            viewId: 'four',
            modalId: 'four',
            modalContent: "paste content here por favor"
            },
            {
            name: "Measles, Mumps, Rubella",
            occurrence:["3/24", "-", "-", "-", "-", "-", "-"],
            viewId: 'five',
            modalId: 'five',
            modalContent: "paste content here por favor"
            },
            {
            name: "HepB",
            occurrence:["1/12", "5/1", "-", "-", "-", "-", "-"],
            viewId: 'six',
            modalId: 'six',
            modalContent: "paste content here por favor"
            },
            {
            name: "Polio",
            occurrence:["4/8", "-", "-", "-", "-", "-", "-"],
            viewId: 'seven',
            modalId: 'seven',
            modalContent: "paste content here por favor"
            },
            {
            name: "Pneumococcal",
            occurrence:["8/2", "-", "-", "-", "-", "-", "-"],
            viewId: 'eight',
            modalId: 'eight',
            modalContent: "paste content here por favor"
            }
            ]
            };
          $("#vaccination-rows").html(template(data));
        </script>

    </body>
</html>
